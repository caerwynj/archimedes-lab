---
title: enumeration of all tuples
---

# Enumeration of a tuples

Generate all n-tuples. Uses algorithm from TAOCP 7.2.2.1 Algorithm M.


```
1  E92D4000           STMFD R13!,{R14}       ; push R14 onto stack
2  E28F7074           ADR R7,digits          ; address of digits array
3  E28F6078           ADR R6,radix           ; address of radix array
4  E3A08004           MOV R8,#4              ; $n <-$ number of digits
5  E3A0C000           MOV R12,#0
         
6  E3A00002           MOV R0,#2
7  E5C60000           STRB R0, [R6]          ; initialize $m_0 <- 2$
8  EF000003           SWI "OS_NewLine"
```

9  `EB00000E .h2       BL visit               ;` visit this permutation  
10 `E1A03008           MOV R3,R8              ;` $j <- n$  
        
11 `E7D70003 .h3       LDRB R0, [R7,R3]       ;` $r_0 <- a_j$  
12 `E7D61003           LDRB R1, [R6,R3]       ;` $r_1 <- m_j$  
13 `E2411001           SUB R1,R1,#1           ;` $m_j <- m_j - 1$  
14 `E1300001           TEQ R0,R1              ;` $a_j = m_j - 1$ ?  

```
15 07C7C003           STREQB R12, [R7,R3]
16 02433001           SUBEQ R3,R3,#1
17 0AFFFFF8           BEQ h3
         
18 E3530000           CMP R3,#0
19 0A000002           BEQ exit
20 E2800001           ADD R0,R0,#1
21 E7C70003           STRB R0, [R7,R3]
22 EAFFFFF1           B h2
         
23 E8BD4000 .exit     LDMFD R13!,{R14}
24 E1A0F00E           MOV PC,R14
        
25 E1A03008 .visit    MOV R3,R8
26 E7D70003 .h1       LDRB R0,[R7,R3]
27 E2800030           ADD R0,R0,#48
28 EF000000           SWI "OS_WriteC"
29 E2533001           SUBS R3,R3,#1
30 5AFFFFFA           BPL h1
31 EF000003           SWI "OS_NewLine"
32 E1A0F00E           MOV PC,R14
     
33 00000000 .digits   EQUD &00000000
34 00000000           EQUD &00000000
35 03030303 .radix    EQUD &03030303
36 03030303           EQUD &03030303

```
