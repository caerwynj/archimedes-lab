
<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="/archimedes-lab/assets/fonts.css"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gray binary generation 7.2.1.1L | Archimedes Programmers Notebook</title>
<meta property="og:title" content="Gray binary generation 7.2.1.1L" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Gray binary generation. Uses algorithm from TAOCP 7.2.1.1 Algorithm L." />
<meta property="og:description" content="Gray binary generation. Uses algorithm from TAOCP 7.2.1.1 Algorithm L." />
<link rel="canonical" href="/archimedes-lab/7/2/1/1/L.html" />
<meta property="og:url" content="/archimedes-lab/7/2/1/1/L.html" />
<meta property="og:site_name" content="Archimedes Programmers Notebook" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-07-06T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Gray binary generation 7.2.1.1L" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-07-06T00:00:00+00:00","datePublished":"2024-07-06T00:00:00+00:00","description":"Gray binary generation. Uses algorithm from TAOCP 7.2.1.1 Algorithm L.","headline":"Gray binary generation. Uses algorithm from TAOCP 7.2.1.1 Algorithm L.","mainEntityOfPage":{"@type":"WebPage","@id":"/archimedes-lab/7/2/1/1/L.html"},"url":"/archimedes-lab/7/2/1/1/L.html"}</script>
<link rel="stylesheet" href="/archimedes-lab/assets/main.css">
<link type="application/atom+xml" rel="alternate" href="/archimedes-lab/feed.xml" title="Archimedes Programmers Notebook" /></head>
<script type="text/javascript" id="MathJax-script" async 
	src="/archimedes-lab/assets/tex-mml-chtml.js">
</script>
<body>
<header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/archimedes-lab/">Archimedes Programmers Notebook</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/archimedes-lab/about/">About</a></div>
      </nav></div>
</header>

<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Gray binary generation 7.2.1.1L</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-06-30T00:00:00+00:00" itemprop="datePublished">Jun 30, 2024
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
<p>Gray binary generation. Uses algorithm from TAOCP 7.2.1.1 Algorithm L.</p>
<p><strong>Program L</strong>. r9 \(\equiv j\); r8 \(\equiv n\); r7 \(\equiv\) base; r6 \(\equiv f\).</p>
<table><tbody>
  <tr>
    <td><code>EA000003</code></td><td><em>01</em></td><td><code></code></td><td><code>B</code></td><td><code>start</code></td><td></td>
  </tr>
  <tr>
    <td><code>00000000</code></td><td><em>02</em></td><td><code>.digits</code></td><td><code>EQUD</code></td><td><code>&0</code></td><td></td>
  </tr>
  <tr>
    <td><code>00000000</code></td><td><em>03</em></td><td><code></code></td><td><code>EQUD</code></td><td><code>&0</code></td><td></td>
  </tr>
  <tr>
    <td><code>00000000</code></td><td><em>04</em></td><td><code>.focus</code></td><td><code>EQUD</code></td><td><code>&0</code></td><td></td>
  </tr>
  <tr>
    <td><code>00000000</code></td><td><em>05</em></td><td><code></code></td><td><code>EQUD</code></td><td><code>&0</code></td><td></td>
  </tr>
  <tr>
    <td><code>E92D4000</code></td><td><em>06</em></td><td><code>.start</code></td><td><code>STMFD</code></td><td><code>R13!,{R14}</code></td><td>Initialize.</td>
  </tr>
  <tr>
    <td><code>E24F701C</code></td><td><em>07</em></td><td><code></code></td><td><code>ADR</code></td><td><code>base,digits</code></td><td>Address of digits array</td>
  </tr>
  <tr>
    <td><code>E24F6018</code></td><td><em>08</em></td><td><code></code></td><td><code>ADR</code></td><td><code>f,focus</code></td><td>Address of focus pointers</td>
  </tr>
  <tr>
    <td><code>E3A08004</code></td><td><em>09</em></td><td><code></code></td><td><code>MOV</code></td><td><code>n,#4</code></td><td>Number of digits</td>
  </tr>
  <tr>
    <td><code>E1A00008</code></td><td><em>10</em></td><td><code></code></td><td><code>MOV</code></td><td><code>R0,n</code></td><td></td>
  </tr>
  <tr>
    <td><code>E7C60000</code></td><td><em>11</em></td><td><code>.l1</code></td><td><code>STRB</code></td><td><code>R0,[f,r0]</code></td><td></td>
  </tr>
  <tr>
    <td><code>E2500001</code></td><td><em>12</em></td><td><code></code></td><td><code>SUBS</code></td><td><code>R0,R0,#1</code></td><td></td>
  </tr>
  <tr>
    <td><code>5AFFFFFC</code></td><td><em>13</em></td><td><code></code></td><td><code>BPL</code></td><td><code>l1</code></td><td></td>
  </tr>
  <tr>
    <td><code>E1A00007</code></td><td><em>14</em></td><td><code>.l2</code></td><td><code>MOV</code></td><td><code>R0,base</code></td><td>Visit.</td>
  </tr>
  <tr>
    <td><code>E1A01008</code></td><td><em>15</em></td><td><code></code></td><td><code>MOV</code></td><td><code>R1,n</code></td><td></td>
  </tr>
  <tr>
    <td><code>EB00000E</code></td><td><em>16</em></td><td><code></code></td><td><code>BL</code></td><td><code>visit</code></td><td></td>
  </tr>
  <tr>
    <td><code>E5D69000</code></td><td><em>17</em></td><td><code>.l3</code></td><td><code>LDRB</code></td><td><code>j,[f]</code></td><td>Choose \(j\). $$j \gets f_0$$</td>
  </tr>
  <tr>
    <td><code>E3A01000</code></td><td><em>18</em></td><td><code></code></td><td><code>MOV</code></td><td><code>R1,#0</code></td><td></td>
  </tr>
  <tr>
    <td><code>E5C61000</code></td><td><em>19</em></td><td><code></code></td><td><code>STRB</code></td><td><code>R1,[f]</code></td><td></td>
  </tr>
  <tr>
    <td><code>E1590008</code></td><td><em>20</em></td><td><code></code></td><td><code>CMP</code></td><td><code>j,n</code></td><td></td>
  </tr>
  <tr>
    <td><code>0A000007</code></td><td><em>21</em></td><td><code></code></td><td><code>BEQ</code></td><td><code>exit</code></td><td></td>
  </tr>
  <tr>
    <td><code>E2890001</code></td><td><em>22</em></td><td><code></code></td><td><code>ADD</code></td><td><code>R0,j,#1</code></td><td>\(j+1\)</td>
  </tr>
  <tr>
    <td><code>E7D61000</code></td><td><em>23</em></td><td><code></code></td><td><code>LDRB</code></td><td><code>R1,[f,R0]</code></td><td>\(f_j+1\)</td>
  </tr>
  <tr>
    <td><code>E7C61009</code></td><td><em>24</em></td><td><code></code></td><td><code>STRB</code></td><td><code>R1,[f,j]</code></td><td>\(f_j \gets f_j+1\)</td>
  </tr>
  <tr>
    <td><code>E7C60000</code></td><td><em>25</em></td><td><code></code></td><td><code>STRB</code></td><td><code>R0,[f,R0]</code></td><td>\(f_j+1 \gets j + 1\)</td>
  </tr>
  <tr>
    <td><code>E7D71009</code></td><td><em>26</em></td><td><code>.l4</code></td><td><code>LDRB</code></td><td><code>R1,[base,j]</code></td><td>Complement coordinate \(j\)</td>
  </tr>
  <tr>
    <td><code>E2611001</code></td><td><em>27</em></td><td><code></code></td><td><code>RSB</code></td><td><code>R1,R1,#1</code></td><td></td>
  </tr>
  <tr>
    <td><code>E7C71009</code></td><td><em>28</em></td><td><code></code></td><td><code>STRB</code></td><td><code>R1,[base,j]</code></td><td></td>
  </tr>
  <tr>
    <td><code>EAFFFFEF</code></td><td><em>29</em></td><td><code></code></td><td><code>B</code></td><td><code>l2</code></td><td></td>
  </tr>
  <tr>
    <td><code>E8BD4000</code></td><td><em>30</em></td><td><code>.exit</code></td><td><code>LDMFD</code></td><td><code>R13!,{R14}</code></td><td></td>
  </tr>
  <tr>
    <td><code>E1A0F00E</code></td><td><em>31</em></td><td><code></code></td><td><code>MOV</code></td><td><code>PC,R14</code></td><td></td>
  </tr>
  <tr>
    <td><code>E1A02000</code></td><td><em>32</em></td><td><code>.visit</code></td><td><code>MOV</code></td><td><code>R2,R0</code></td><td>Base address is in r0; length in r1.</td>
  </tr>
  <tr>
    <td><code>E7D20001</code></td><td><em>33</em></td><td><code>.v1</code></td><td><code>LDRB</code></td><td><code>R0,[R2,R1]</code></td><td></td>
  </tr>
  <tr>
    <td><code>E2800030</code></td><td><em>34</em></td><td><code></code></td><td><code>ADD</code></td><td><code>R0,R0,#48</code></td><td></td>
  </tr>
  <tr>
    <td><code>EF000000</code></td><td><em>35</em></td><td><code></code></td><td><code>SWI</code></td><td><code>"OS_WriteC"</code></td><td></td>
  </tr>
  <tr>
    <td><code>E2511001</code></td><td><em>36</em></td><td><code></code></td><td><code>SUBS</code></td><td><code>R1,R1,#1</code></td><td></td>
  </tr>
  <tr>
    <td><code>5AFFFFFA</code></td><td><em>37</em></td><td><code></code></td><td><code>BPL</code></td><td><code>v1</code></td><td></td>
  </tr>
  <tr>
    <td><code>EF000003</code></td><td><em>38</em></td><td><code></code></td><td><code>SWI</code></td><td><code>"OS_NewLine"</code></td><td></td>
  </tr>
  <tr>
    <td><code>E1A0F00E</code></td><td><em>39</em></td><td><code></code></td><td><code>MOV</code></td><td><code>PC,R14</code></td><td></td>
  </tr>
</tbody></table>

  </div><a class="u-url" href="/archimedes-lab/7/2/1/1/L.html" hidden></a>
</article>

      </div>
  
</main>
<footer class="site-footer h-card">
  <data class="u-url" href="/archimedes-lab/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Archimedes Programmers Notebook</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Archimedes Programmers Notebook</li><li><a class="u-email" href="mailto:caerwynj@gmail.com">caerwynj@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/caerwynj"><svg class="svg-icon"><use xlink:href="/archimedes-lab/assets/minima-social-icons.svg#github"></use></svg> <span class="username">caerwynj</span></a></li><li><a href="https://www.twitter.com/caerwy"><svg class="svg-icon"><use xlink:href="/archimedes-lab/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">caerwy</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Experiments in the art of computer programming using Archimedes assembly language on the classic Acorn Archimedes computer, the first desktop RISC computer using the ARM2 processor. Algorithms are based upon The Art of Computer Programming.</p>
      </div>
    </div>

  </div>
</footer>

</body>
</html>
